@model Truck

<div class="container border">
  <div class="row mb-2 p-3">
    <div class="col-md-3">
      <img src="@Model.ImgUrl" alt="Food" class="w-75 rounded-circle">
    </div>

    <div class="col-md-9">
      <h3>
        @Model.Name
      </h3>
      <p>Style: @Model.Style</p>
      <p class="text-muted">
        Average rating: TBD
      </p>
      <small class="text-muted">
        Submitted By: @Model.SubmittedBy.FullName() on @Model.CreatedAt
      </small>
    </div>
  </div>

  <div class="container">
    @foreach (Review review in Model.Reviews)
    {
    <div class="row bg-light border p-3 mb-2">
      <div class="col-md-2">
        @review.Author.FullName()
      </div>
      <div class="col-md-10">
        <p>
          @review.Body
        </p>
        <p>
          <span class="mr-1">
            Rating: @review.Rating
          </span>

          @* without the loops you could do a bunch of conditions to display the amount of stars *@
          @for (int i = 1; i <= 5; i++)
          {
            if (i <= review.Rating)
            {
              <span>
                &starf;
              </span>
            }
            else
            {
              <span>
                &star;
              </span>
            }
          }
        </p>
      </div>
    </div>
    }
  </div>

  <div class="row mt-3 p-3">
    @{
      // instantiate a new review to provide to the <partial> since because it needs @model Review
      // assign the TruckId to the newReview since we need to associate this review with the truck
      // The TruckId is availabile on this page, but is not available in the <partial> unless it's passed in
      Review newReview = new Review()
      {
        TruckId = Model.TruckId
      };
    }
    <partial name="_Review" model="@newReview"></partial>
  </div>
</div>